import{v as _,w as P,T as M}from"./runtime-dom.esm-bundler-aafc7534.js";import{I as x}from"./index-261134ad.js";import{X as i,J as L,a as j,e as k,ac as S,l as u,m as d,p as n,S as z,M as v,u as c,R as g,Q as N,U as h,L as T,aq as $,F as V,a3 as U,W as C,V as I,aX as R}from"./nprogress-ef20a486.js";const q=x("lock",!1,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("rect",{x:"6",y:"22",width:"36",height:"22",rx:"2",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M24 30V36",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),F=x("play",!0,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M20 24V17.0718L26 20.5359L32 24L26 27.4641L20 30.9282V24Z",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),W=x("play-one",!0,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),D={class:"cover-container"},H={class:"shade"},Y=["src"],Z=L({__name:"Cover",props:{id:{type:Number,required:!0},type:{type:String,required:!0},imageUrl:{type:String,required:!0},fixedSize:{type:Number,default:0},playButtonSize:{type:Number,default:22},coverHover:{type:Boolean,default:!0},alwaysShowPlayButton:{type:Boolean,default:!0},alwaysShowShadow:{type:Boolean,default:!1},clickCoverToPlay:{type:Boolean,default:!1},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12}},setup(e){const r=e,y=j(!1),m=k(()=>{let o={borderRadius:"",height:"",width:""};return r.fixedSize!==0&&(o.width=r.fixedSize+"px",o.height=r.fixedSize+"px"),r.type==="artist"&&(o.borderRadius="50%"),o}),p=k(()=>{let o={height:"",width:""};return o.width=r.playButtonSize+"%",o.height=r.playButtonSize+"%",o}),w=k(()=>{let o={height:"",width:""};return o.backgroundImage=`url(${r.imageUrl})`,r.type==="artist"&&(o.borderRadius="50%"),o});return(o,s)=>{const b=S("el-icon");return u(),d("div",{class:T(["cover",{"cover-hover":e.coverHover}]),onMouseover:s[1]||(s[1]=t=>y.value=!0),onMouseleave:s[2]||(s[2]=t=>y.value=!1),onClick:s[3]||(s[3]=t=>e.clickCoverToPlay?o.play():o.goTo())},[n("div",D,[n("div",H,[z(n("button",{class:"play-button",style:v(c(p)),onClick:s[0]||(s[0]=P(t=>o.play(),["stop"]))},[i(b,{size:"50"},{default:g(()=>[i(c(F))]),_:1})],4),[[_,y.value]])]),n("img",{src:e.imageUrl,style:v(c(m)),loading:"lazy"},null,12,Y),e.coverHover||e.alwaysShowShadow?(u(),N(M,{key:0,name:"fade"},{default:g(()=>[z(n("div",{class:"shadow",style:v(c(w))},null,4),[[_,y.value||e.alwaysShowShadow]])]),_:1})):h("",!0)])],34)}}});const E=$(Z,[["__scopeId","data-v-dd951b86"]]),A={class:"text"},X={key:0,class:"info"},G={class:"play-count"},J={class:"num"},O={key:0,class:"explicit-symbol"},Q={key:1,class:"lock-icon"},K={key:1,class:"info"},ee=["innerHTML"],te=L({__name:"CoverRow",props:{items:{type:Array,required:!0},type:{type:String,required:!0},subText:{type:String,default:"null"},subTextFontSize:{type:String,default:"16px"},showPlayCount:{type:Boolean,default:!1},columnNumber:{type:Number,default:5},gap:{type:String,default:"44px 24px"},playButtonSize:{type:Number,default:22}},setup(e){const r=e,y=k(()=>({"grid-template-columns":`repeat(${r.columnNumber}, 1fr)`,gap:r.gap})),m=t=>{if(r.subText==="copywriter")return t.copywriter;if(r.subText==="description")return t.description;if(r.subText==="updateFrequency")return t.updateFrequency;if(r.subText==="creator")return"by "+t.creator.nickname;if(r.subText==="releaseYear")return new Date(t.publishTime).getFullYear();if(r.subText==="artist"){if(t.artist!==void 0)return`<a href="/#/artist/${t.artist.id}">${t.artist.name}</a>`;if(t.artists!==void 0)return`<a href="/#/artist/${t.artists[0].id}">${t.artists[0].name}</a>`}if(r.subText==="albumType+releaseYear"){let a=t.type;return t.type==="EP/Single"?a=t.size===1?"Single":"EP":t.type==="Single"?a="Single":t.type==="专辑"&&(a="Album"),`${a} · ${new Date(t.publishTime).getFullYear()}`}},p=t=>r.type==="playlist"&&t.privacy===10,w=t=>r.type==="album"&&t.mark===1056768,o=t=>`/${r.type}/${t.id}`,s=t=>{if(t.img1v1Url){let f=t.img1v1Url.split("/");if(f=f[f.length-1],f==="5639395138885805.jpg")return"https://p2.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg?param=512y512"}let a=t.img1v1Url||t.picUrl||t.coverImgUrl;return`${a==null?void 0:a.replace("http://","https://")}?param=512y512`},b=t=>t?t>1e8?`${Math.floor(t/1e8*100)/100}亿`:t>1e5?`${Math.floor(t/1e4*10)/10}万`:t>1e4?`${Math.floor(t/1e4*100)/100}万`:t:"";return(t,a)=>{const f=S("el-icon"),B=S("router-link");return u(),d("div",{class:"cover-row",style:v(c(y))},[(u(!0),d(V,null,U(e.items,l=>(u(),d("div",{key:l.id,class:T(["item",{artist:e.type==="artist"}])},[i(E,{id:l.id,"image-url":s(l),type:e.type,"play-button-size":e.type==="artist"?26:e.playButtonSize},null,8,["id","image-url","type","play-button-size"]),n("div",A,[e.showPlayCount?(u(),d("div",X,[n("span",G,[i(c(W),{theme:"filled"}),n("span",J,C(b(l.playCount)),1)])])):h("",!0),n("div",{class:"title",style:v({fontSize:e.subTextFontSize})},[w(l)?(u(),d("span",O)):h("",!0),p(l)?(u(),d("span",Q,[i(f,{class:"lock-icon"},{default:g(()=>[i(c(q),{size:"12"})]),_:1})])):h("",!0),i(B,{to:o(l)},{default:g(()=>[I(C(l.name),1)]),_:2},1032,["to"])],4),e.type!=="artist"&&e.subText!=="none"?(u(),d("div",K,[n("span",{innerHTML:m(l)},null,8,ee)])):h("",!0)])],2))),128))],4)}}});const se=$(te,[["__scopeId","data-v-ef5b972e"]]);function ne(e,r){return R({limit:e})}export{se as C,W as P,ne as g};
